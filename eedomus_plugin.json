{
	"plugin_id": "somfy",
	"name_fr": "Périphérique Somfy",
	"icon": "logo_connexoon.png",
	"version": "1.2.2",
	"creation_date": "2017-12-04",
	"modification_date": "2018-11-16",
	"author": "Patrice Gauchon",
	"description_fr": "Gestion des volets roulants et portails Somfy via le bridge Connexoon ou la box Tahoma.",
	"description_en": "",
	"description_es": "",
	"description_it": "",
	"description_de": "",
	"forum_link": "http://forum.eedomus.com/viewtopic.php?t=6254",
	"parameters":
	[
		{
			"parameter": "login_url", 
			"description": "",
			"xtype": "displayfield",
			"field": "style: 'padding: 3px;', value: 'Cliquez <a target=\\'_blank\\' href=\\'https://secure.eedomus.com/script_proxy/?exec=connexoon.php&lan_only=1\\'>ici pour lister vos périphériques</a>'"
		},
		{
			"parameter": "OID", 
			"description": "Adresse du périphérique",
			"xtype": "textfield",
			"field": "width:300, allowBlank:false"
		},
		{
			"parameter": "type",
			"description": "Type de périphérique",
			"xtype": "combo",
			"field": "width:200, allowBlank:false, store:[['0', 'Volet IO'],['1', 'Volet RTS'],['2', 'Porte ou portail']], triggerAction: 'all'"
		}
	],
	"scripts":
	[
		{
			"name": "connexoon.php"
		}
	],
	"devices":
	[
		{
			"device_id": "io_closure",
			"module_id": "41",
			"type": "http",
			"name_fr": "Volet IO",
			"icon": "shutter_mid.png",
			"utilisation_id": "48",
			"create": "plugin.parameters.type==0",
			"parameters":
			{
				"value_type": "list",
				"VAR1": "plugin.parameters.OID",
				"ignore_errors": 1,
				"RAW_URL": "http://localhost/script/?exec=connexoon.php&action=getState",
				"RAW_XPATH": "/connexoon/device[@url='[VAR1]']/Closure",
				"POLLING": "5"
			},
			"values":
			[
				{ "value": "0", "description": "Ouvert", "icon": "shutter_open.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=0" },
				{ "value": "5", "description": "5%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=5", "hidden":1 },
				{ "value": "10", "description": "10%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=10", "hidden":1 },
				{ "value": "15", "description": "15%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=15", "hidden":1 },
				{ "value": "20", "description": "20%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=20" },
				{ "value": "25", "description": "25%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=25", "hidden":1 },
				{ "value": "30", "description": "30%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=30", "hidden":1 },
				{ "value": "35", "description": "35%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=35", "hidden":1 },
				{ "value": "40", "description": "40%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=40" },
				{ "value": "45", "description": "45%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=45", "hidden":1 },
				{ "value": "50", "description": "50%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=50", "hidden":1 },
				{ "value": "55", "description": "55%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=55", "hidden":1 },
				{ "value": "60", "description": "60%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=60" },
				{ "value": "65", "description": "65%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=65", "hidden":1 },
				{ "value": "70", "description": "70%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=70", "hidden":1 },
				{ "value": "75", "description": "75%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=75", "hidden":1 },
				{ "value": "80", "description": "80%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=80" },
				{ "value": "85", "description": "85%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=85", "hidden":1 },
				{ "value": "90", "description": "90%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=90", "hidden":1 },
				{ "value": "95", "description": "95%", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=95", "hidden":1 },
				{ "value": "100", "description": "Fermé", "icon": "shutter_closed.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=setClosure&value=100" }
			]
		},
		{
			"device_id": "rts_closure",
			"module_id": "41",
			"type": "http",
			"name_fr": "Volet RTS",
			"icon": "shutter_mid.png",
			"utilisation_id": "48",
			"create": "plugin.parameters.type==1",
			"parameters":
			{
				"value_type": "list",
				"VAR1": "plugin.parameters.OID",
				"ignore_errors": 1,
				"RAW_URL": "http://localhost/script/?exec=connexoon.php&action=getState",
				"RAW_XPATH": "/connexoon/device[@url='[VAR1]']/OpenClosedUnknown",
				"POLLING": "0"
			},
			"values":
			[
				{ "value": "closed", "description": "Fermer", "icon": "shutter_closed.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=close" },
				{ "value": "open", "description": "Ouvrir", "icon": "shutter_open.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=open" },
				{ "value": "stop", "description": "Stop", "icon": "shutter_stop.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=stop" }
			]
		},
		{
			"device_id": "p_closure",
			"module_id": "41",
			"type": "http",
			"name_fr": "Portail",
			"icon": "shutter_mid.png",
			"utilisation_id": "48",
			"create": "plugin.parameters.type==2",
			"parameters":
			{
				"value_type": "list",
				"VAR1": "plugin.parameters.OID",
				"ignore_errors": 1,
				"RAW_URL": "http://localhost/script/?exec=connexoon.php&action=getState",
				"RAW_XPATH": "/connexoon/device[@url='[VAR1]']/OpenClosedUnknown",
				"POLLING": "5"
			},
			"values":
			[
				{ "value": "closed", "description": "Fermé", "icon": "shutter_closed.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=close" },
				{ "value": "open", "description": "Ouvert", "icon": "shutter_open.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=open" },
				{ "value": "stop", "description": "Stop", "icon": "shutter_stop.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"http_params": "&action=stop" },
				{ "value": "unknow", "description": "Statut inconnu", "icon": "shutter_mid.png", "http_url": "http://localhost/script/?exec=connexoon.php&devices=[VAR1]", "http_type": "GET",	"hidden":1 }
			]
		}
	]
}